# Hackathon Builder - è£½å“è¦ä»¶å®šç¾©æ›¸ (PRD)

## 1. æ¦‚è¦

**Hackathon Builder** ã¯ã€ãƒãƒƒã‚«ã‚½ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®æƒ…å ±ã‚’è¿…é€Ÿã«å…¬é–‹ãƒ»ç®¡ç†ã™ã‚‹ãŸã‚ã® Firebase ãƒ™ãƒ¼ã‚¹ã®ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Server Side Rendering (SSR) ã«ã‚ˆã‚‹ãƒãƒ©ã¤ãã®ãªã„é«˜é€Ÿè¡¨ç¤ºã¨ã€éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚æ“ä½œå¯èƒ½ãªç›´æ„Ÿçš„ãªç®¡ç†ç”»é¢ã‚’æä¾›ã—ã¾ã™ã€‚

### 1.1 è£½å“ãƒ“ã‚¸ãƒ§ãƒ³
ã€Œèª°ã§ã‚‚ 10 åˆ†ã§ãƒãƒƒã‚«ã‚½ãƒ³å…¬å¼ã‚µã‚¤ãƒˆã‚’ç«‹ã¡ä¸Šã’ã‚‰ã‚Œã‚‹ã€ã‚’ã‚³ãƒ³ã‚»ãƒ—ãƒˆã«ã€æŠ€è¡“çš„ãªéšœå£ã‚’æœ€å°é™ã«æŠ‘ãˆãªãŒã‚‰ã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªã‚¤ãƒ™ãƒ³ãƒˆã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰å¯èƒ½ã«ã—ã¾ã™ã€‚

### 1.2 ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼

| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ— | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | ä¸»ãªç”»é¢ |
|--------------|-------------|---------|
| **ãƒãƒƒã‚«ã‚½ãƒ³é‹å–¶è€…** | ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã®ä½œæˆãƒ»æ›´æ–°ãƒ»å…¬é–‹ | ç®¡ç†ç”»é¢ (admin.html) |
| **å‚åŠ è€…** | ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ã®é–²è¦§ã€ç”³ã—è¾¼ã¿ | å…¬é–‹ã‚µã‚¤ãƒˆ (index.html) |
| **ã‚¹ãƒãƒ³ã‚µãƒ¼** | ã‚¹ãƒãƒ³ã‚µãƒ¼æƒ…å ±ã‚„ãƒªãƒ³ã‚¯ã®ç¢ºèª | å…¬é–‹ã‚µã‚¤ãƒˆ (index.html) |
| **å¯©æŸ»å“¡** | å¯©æŸ»å“¡æƒ…å ±ã®ç¢ºèª | å…¬é–‹ã‚µã‚¤ãƒˆ (index.html) |

---

## 2. å…¬é–‹ã‚µã‚¤ãƒˆæ©Ÿèƒ½ (index.html)

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãƒ¡ã‚¤ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã§ã™ã€‚

### 2.1 ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

| æ©Ÿèƒ½ | èª¬æ˜ | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ« |
|------|------|-------------|
| **ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³** | æ¦‚è¦ã€æ›´æ–°æƒ…å ±ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ãƒ—ãƒ©ã‚¤ã‚ºã€ãƒ«ãƒ¼ãƒ«ã€å¯©æŸ»å“¡ã€FAQã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® 8 ã‚¿ãƒ– | index.html, main.js |
| **ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼** | ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ãƒ‰ãƒ­ãƒ¯ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | index.html, main.js |
| **ç®¡ç†ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯** | ç®¡ç†è€…ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹ç®¡ç†ç”»é¢ã¸ã®ãƒªãƒ³ã‚¯ | main.js |
| **ã‚µã‚¤ãƒ³ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ** | Firebase Auth ã«ã‚ˆã‚‹èªè¨¼çŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ | main.js |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼** | ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒè¡¨ç¤º | main.js |

### 2.2 ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³

| è¦ç´  | èª¬æ˜ | SSR å¯¾å¿œ |
|------|------|---------|
| **ã‚¿ã‚¤ãƒˆãƒ«** | ã‚¤ãƒ™ãƒ³ãƒˆåï¼ˆä¾‹: ç¬¬3å› AI Agent Hackathonï¼‰ | âœ… |
| **ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«** | ã‚¤ãƒ™ãƒ³ãƒˆã®èª¬æ˜æ–‡ | âœ… |
| **CTAãƒ†ã‚­ã‚¹ãƒˆ** | ç”³ã—è¾¼ã¿ãƒœã‚¿ãƒ³ãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆ | âœ… |
| **ãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒ** | ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¤ãƒ¡ãƒ¼ã‚¸ | - |

### 2.3 ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„

| ã‚¿ãƒ–å | è¡¨ç¤ºå†…å®¹ | ãƒ‡ãƒ¼ã‚¿æ§‹é€  |
|--------|---------|-----------|
| **æ¦‚è¦** | ã‚¤ãƒ™ãƒ³ãƒˆèª¬æ˜ã€ãƒ†ãƒ¼ãƒã€ä½¿ç”¨æŠ€è¡“ | `overview: { title, description, theme, tech }` |
| **æ›´æ–°æƒ…å ±** | æ—¥ä»˜ä»˜ãã®ãŠçŸ¥ã‚‰ã›ä¸€è¦§ | `updates: [{ date, title, content }]` |
| **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«** | æ—¥ç¨‹ã”ã¨ã®ã‚¤ãƒ™ãƒ³ãƒˆå†…å®¹ | `schedule: [{ date, title, items: [{ time, content }] }]` |
| **ãƒ—ãƒ©ã‚¤ã‚º** | è³é‡‘ãƒ»ç‰¹å…¸æƒ…å ± | `prizes: [{ name, description, amount }]` |
| **ãƒ«ãƒ¼ãƒ«** | å‚åŠ è¦ç´„ãƒ»ãƒ«ãƒ¼ãƒ« | `rules: [{ title, content }]` |
| **å¯©æŸ»å“¡** | å¯©æŸ»å“¡ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« | `judges: [{ name, title, company, bio, image }]` |
| **FAQ** | ã‚ˆãã‚ã‚‹è³ªå•ã¨å›ç­” | `faq: [{ question, answer }]` |
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** | ä½œå“ä¸€è¦§ã€ã„ã„ã­ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã€ã„ã„ã­ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§è¡¨ç¤º | `projects: [{ ... }]`, `participants/{email}/comments` |

### 2.4 ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³** | ç”»é¢å¹…ã«å¿œã˜ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ‡ã‚Šæ›¿ãˆ |
| **ãƒ‰ãƒ­ãƒ¯ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³** | ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ |
| **ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤** | ãƒ‰ãƒ­ãƒ¯ãƒ¼è¡¨ç¤ºæ™‚ã®èƒŒæ™¯ãƒã‚¹ã‚¯ |

---

## 3. ç®¡ç†ãƒ‘ãƒãƒ«æ©Ÿèƒ½ (admin.html)

é‹å–¶è€…ãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç·¨é›†ã™ã‚‹ãŸã‚ã®å°‚ç”¨ç”»é¢ã§ã™ã€‚

### 3.1 èªè¨¼ãƒ»ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

| æ©Ÿèƒ½ | èª¬æ˜ | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ« |
|------|------|-------------|
| **ãƒ­ã‚°ã‚¤ãƒ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤** | æœªèªè¨¼æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¢ãƒ¼ãƒ€ãƒ« | admin.html |
| **ID/Pass ãƒ­ã‚°ã‚¤ãƒ³** | Firestore ã«ä¿å­˜ã•ã‚ŒãŸèªè¨¼æƒ…å ±ã¨ã®ç…§åˆ | auth-utils.js |
| **Google ãƒ­ã‚°ã‚¤ãƒ³** | Firebase Auth ã«ã‚ˆã‚‹OAuthèªè¨¼ | admin.js |
| **ç®¡ç†è€…åˆ¤å®š** | `authorizedEmails` é…åˆ—ã«ã‚ˆã‚‹ãƒ¡ãƒ¼ãƒ«ç…§åˆ | auth-utils.js |
| **ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ** | ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒªã‚¢ã¨ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ | auth-utils.js |
| **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤º** | ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã€Œãƒ’ãƒ¼ãƒ­ãƒ¼ã€ã‚¿ãƒ–ã‚’åˆæœŸè¡¨ç¤º | admin.js |

### 3.2 ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | å¯¾è±¡ãƒ‡ãƒ¼ã‚¿ | ç·¨é›†å¯èƒ½é …ç›® |
|---------|-----------|-------------|
| **ãƒ’ãƒ¼ãƒ­ãƒ¼** | `hero` | ã‚¿ã‚¤ãƒˆãƒ«ã€ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã€CTA |
| **æ¦‚è¦** | `overview` | ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ãƒ†ãƒ¼ãƒã€æŠ€è¡“ |
| **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«** | `schedule` | æ—¥ä»˜ã€ã‚¿ã‚¤ãƒˆãƒ«ã€æ™‚é–“ã€å†…å®¹ï¼ˆè¤‡æ•°ï¼‰ |
| **ãƒ—ãƒ©ã‚¤ã‚º** | `prizes` | è³åã€èª¬æ˜ã€é‡‘é¡ |
| **ãƒ«ãƒ¼ãƒ«** | `rules` | ã‚¿ã‚¤ãƒˆãƒ«ã€å†…å®¹ |
| **å¯©æŸ»å“¡** | `judges` | åå‰ã€å½¹è·ã€ä¼šç¤¾ã€çµŒæ­´ã€ç”»åƒ |
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** | `participants` | ç™»éŒ²ã•ã‚ŒãŸå‚åŠ è€…ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰æƒ…å ±ã®é–²è¦§ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã€CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |
| **ç®¡ç†è€…è¨­å®š** | `admins` | è¨±å¯ãƒ¡ãƒ¼ãƒ«ä¸€è¦§ï¼ˆãƒã‚¹ã‚¯è¡¨ç¤ºï¼‰ |
| **Social** | `social` | OGP ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€ç”»åƒã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³å…¬é–‹è¨­å®š |

### 3.3 ãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³** | å…¥åŠ›å¤‰æ›´ã®æ¤œçŸ¥ã¨ä¿å­˜ãƒœã‚¿ãƒ³çŠ¶æ…‹ã®æ›´æ–° |
| **é …ç›®ã®å‹•çš„è¿½åŠ ** | + ãƒœã‚¿ãƒ³ã«ã‚ˆã‚‹å¯©æŸ»å“¡/ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç­‰ã®è¿½åŠ  |
| **é …ç›®ã®å‰Šé™¤** | Ã— ãƒœã‚¿ãƒ³ã«ã‚ˆã‚‹å€‹åˆ¥å‰Šé™¤ |
| **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰** | Judges ç­‰ã¯ Base64ã€OGP ç”»åƒã¯ Cloud Storage ã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¯¾å¿œ |
| **æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›** | YYYY-MM-DD â†” YYYY.MM.DD è‡ªå‹•å¤‰æ› |
| **æœªä¿å­˜è­¦å‘Š** | ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚ã®ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |

### 3.4 ä¿å­˜ãƒ»åŒæœŸæ©Ÿèƒ½

| å‡¦ç† | ä¿å­˜å…ˆ | ç›®çš„ |
|------|--------|------|
| **ç”Ÿãƒ‡ãƒ¼ã‚¿ä¿å­˜** | `config/data` | ç·¨é›†ç”¨ JSON ãƒ‡ãƒ¼ã‚¿ |
| **HTML ç”Ÿæˆãƒ»ä¿å­˜** | `config/content` | è¡¨ç¤ºç”¨ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° HTML |
| **OGP/Robots åŒæœŸ** | `config/ogp` | SSR/SNS ã‚·ã‚§ã‚¢ç”¨ãƒ¡ã‚¿æƒ…å ±ã€ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼åˆ¶å¾¡ |
| **å‚åŠ è€…ãƒ‡ãƒ¼ã‚¿** | `participants/{id}` | ç™»éŒ²ã•ã‚ŒãŸå‚åŠ è€…ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ± |

---

## 4. èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  (auth-utils.js)

### 4.1 èªè¨¼ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    èªè¨¼ãƒ•ãƒ­ãƒ¼                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ID/Pass ãƒ­ã‚°ã‚¤ãƒ³                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼   â”‚â”€â”€â”€â–¶â”‚ Firestore     â”‚â”€â”€â”€â–¶â”‚ localStorage   â”‚ â”‚
â”‚  â”‚ ID/Pass å…¥åŠ›â”‚    â”‚ config/admin  â”‚    â”‚ admin_mode=trueâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Google ãƒ­ã‚°ã‚¤ãƒ³                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Google    â”‚â”€â”€â”€â–¶â”‚ Firebase Auth â”‚â”€â”€â”€â–¶â”‚ authorizedEmailsâ”‚ â”‚
â”‚  â”‚ OAuth     â”‚    â”‚               â”‚    â”‚ ãƒã‚§ãƒƒã‚¯         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 èªè¨¼é–¢æ•°ä¸€è¦§

| é–¢æ•°å | å¼•æ•° | æˆ»ã‚Šå€¤ | èª¬æ˜ |
|--------|------|--------|------|
| `checkNeedsSetup()` | - | `boolean` | åˆæœŸè¨­å®šãŒå¿…è¦ã‹åˆ¤å®š |
| `loginWithIdPass(userid, password)` | string, string | `boolean` | ID/Pass èªè¨¼ |
| `logoutAdmin()` | - | `void` | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç† |
| `checkIsAdmin(user)` | User \| null | `boolean` | ç®¡ç†è€…æ¨©é™åˆ¤å®š |

---

## 5. SSR ã‚·ã‚¹ãƒ†ãƒ  (functions/index.js)

### 5.1 SSR ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SSR å‡¦ç†ãƒ•ãƒ­ãƒ¼                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡                                          â”‚
â”‚     â””â”€â–¶ Cloud Functions (ssr)                              â”‚
â”‚                                                             â”‚
â”‚  2. robots.txt åˆ¤å®š (Hosting ç‰¹æœ‰ã®å›é¿ç­–)                â”‚
â”‚     â”œâ”€â–¶ /robots.txt ã«ã‚¢ã‚¯ã‚»ã‚¹                             â”‚
â”‚     â”œâ”€â–¶ Hosting (firebase.json) ãŒ /robots_dynamic ğŸŒã¸    â”‚
â”‚     â”‚   rewrite ã—ã€ssr é–¢æ•°ã‚’ä»‹ã—ã¦ config/ogp ã‚’å‚ç…§ã™ã‚‹   â”‚
â”‚     â””â”€â–¶ ogp.allowIndexing ã«å¿œã˜ã¦ Allow/Disallow ã‚’è¿”å´     â”‚
â”‚                                                             â”‚
â”‚  3. Firestore ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—                                â”‚
â”‚     â”œâ”€â–¶ config/ogp (OGP ãƒ¡ã‚¿æƒ…å ±)                          â”‚
â”‚     â””â”€â–¶ config/content (ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°HTML)              â”‚
â”‚                                                             â”‚
â”‚  4. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç½®æ›                                        â”‚
â”‚     â”œâ”€â–¶ {{OGP_TITLE}} â†’ ogpData.ogTitle                   â”‚
â”‚     â”œâ”€â–¶ {{OGP_DESCRIPTION}} â†’ ogpData.ogDescription       â”‚
â”‚     â”œâ”€â–¶ {{OGP_IMAGE}} â†’ ogpData.ogImage                   â”‚
â”‚     â”œâ”€â–¶ {{HERO_TITLE}} â†’ heroData.title                   â”‚
â”‚     â””â”€â–¶ {{HERO_SUBTITLE}} â†’ heroData.subtitle             â”‚
â”‚                                                             â”‚
â”‚  5. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š                                  â”‚
â”‚     â””â”€â–¶ Cache-Control: public, max-age=600 (HTML)          â”‚
â”‚     â””â”€â–¶ Cache-Control: no-cache (robots.txt)              â”‚
â”‚                                                             â”‚
â”‚  6. HTML / ãƒ†ã‚­ã‚¹ãƒˆ è¿”å´                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 SSR ã®åˆ©ç‚¹

| é …ç›® | èª¬æ˜ |
|------|------|
| **åˆå›è¡¨ç¤ºã®é«˜é€ŸåŒ–** | ã‚µãƒ¼ãƒãƒ¼ã§ HTML ç”Ÿæˆå¾Œã«è¿”å´ã™ã‚‹ãŸã‚ã€ç™½ç”»é¢ãŒç™ºç”Ÿã—ãªã„ |
| **SEO å¯¾ç­–** | æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ­£ã—ãã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ |
| **OGP å®Œå…¨å¯¾å¿œ** | SNS ã‚·ã‚§ã‚¢æ™‚ã«æ­£ã—ã„ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º |
| **ã‚­ãƒ£ãƒƒã‚·ãƒ¥** | CDN ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚Šé«˜é€Ÿé…ä¿¡ |

---

## 6. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (tools/setup.js)

### 6.1 æ©Ÿèƒ½æ¦‚è¦

å¯¾è©±å¼ã§åˆæœŸç®¡ç†è€…æƒ…å ±ã‚’ Firestore ã«æŠ•å…¥ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚

### 6.2 å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

```bash
npm run setup
```

1. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®å­˜åœ¨ç¢ºèª
2. Firebase Admin SDK ã®åˆæœŸåŒ–
3. å¯¾è©±å¼å…¥åŠ›ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
   - ç®¡ç†è€… ID
   - ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
   - è¨±å¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
4. Firestore `config/admin` ã¸ã®æ›¸ãè¾¼ã¿

### 6.3 ä¿å­˜ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```json
{
  "defaultUser": "admin",
  "defaultPass": "password123",
  "authorizedEmails": ["admin@gmail.com", "staff@gmail.com"],
  "createdAt": "2025-01-01T00:00:00.000Z"
}
```

---

## 7. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### 7.1 Firestore ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ 

```
config/
â”œâ”€â”€ admin       # ç®¡ç†è€…èªè¨¼æƒ…å ±
â”‚   â”œâ”€â”€ defaultUser: string
â”‚   â”œâ”€â”€ defaultPass: string
â”‚   â”œâ”€â”€ authorizedEmails: string[]
â”‚   â””â”€â”€ createdAt: string
â”‚
â”œâ”€â”€ data        # ç”Ÿãƒ‡ãƒ¼ã‚¿ï¼ˆç·¨é›†ç”¨ JSONï¼‰
â”‚   â”œâ”€â”€ hero: { title, subtitle, ctaText, notice }
â”‚   â”œâ”€â”€ overview: { title, description, theme, tech }
â”‚   â”œâ”€â”€ schedule: [{ date, title, items }]
â”‚   â”œâ”€â”€ judges: [{ name, title, company, bio, image }]
â”‚   â”œâ”€â”€ updates: [{ date, title, content }]
â”‚   â”œâ”€â”€ prizes: [{ name, description, amount }]
â”‚   â”œâ”€â”€ rules: [{ title, content }]
â”‚   â”œâ”€â”€ projects: [{ name, description, link }]
â”‚   â”œâ”€â”€ faq: [{ question, answer }]
â”‚   â””â”€â”€ social: { ogTitle, ogDescription, ogImage }
â”‚
â”œâ”€â”€ content     # ç”Ÿæˆæ¸ˆã¿ HTMLï¼ˆè¡¨ç¤ºç”¨ï¼‰
â”‚   â”œâ”€â”€ hero: string (HTML)
â”‚   â”œâ”€â”€ overview: string (HTML)
â”‚   â”œâ”€â”€ schedule: string (HTML)
â”‚   â””â”€â”€ ... (å„ã‚¿ãƒ–ã® HTML)
â”‚
â””â”€â”€ ogp         # OGP ãƒ¡ã‚¿æƒ…å ±ï¼ˆSSR ç”¨ï¼‰
    â”œâ”€â”€ ogTitle: string
    â”œâ”€â”€ ogDescription: string
    â”œâ”€â”€ ogImage: string
    â”œâ”€â”€ allowIndexing: boolean
    â””â”€â”€ updatedAt: timestamp

participants/ (Collection)
â””â”€â”€ {participantEmail}/
    â”œâ”€â”€ firstName: string
    â”œâ”€â”€ lastName: string
    â”œâ”€â”€ name: string (ãƒ•ãƒ«ãƒãƒ¼ãƒ )
    â”œâ”€â”€ email: string
    â”œâ”€â”€ company: string
    â”œâ”€â”€ organization: string
    â”œâ”€â”€ role: string
    â”œâ”€â”€ motivation: string (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
    â”œâ”€â”€ projectName: string
    â”œâ”€â”€ teamName: string
    â”œâ”€â”€ teamSize: string/number (ã€Œæœªå®šã€ã€Œãƒ¡ãƒ³ãƒãƒ¼å‹Ÿé›†ä¸­ã€ã¾ãŸã¯æ•°å€¤)
    â”œâ”€â”€ slideUrl: string
    â”œâ”€â”€ dataConsent: "yes" | "no"
    â”œâ”€â”€ status: string (æ›¸é¡ç¢ºèªä¸­, å—ä»˜å®Œäº†, ä¸€æ¬¡å¯©æŸ»ä¸­, äºŒæ¬¡å¯©æŸ»ä¸­, ãƒ•ã‚¡ã‚¤ãƒŠãƒªã‚¹ãƒˆ, æœ€å„ªç§€è³, å„ªç§€è³, è½é¸, è¾é€€, ãã®ä»–)
    â”œâ”€â”€ likes: string[]             # ã„ã„ã­ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
    â”œâ”€â”€ likeCount: number           # ã„ã„ã­æ•°
    â”œâ”€â”€ commentCount: number        # ã‚³ãƒ¡ãƒ³ãƒˆæ•°
    â”œâ”€â”€ createdAt: timestamp
    â””â”€â”€ updatedAt: timestamp

participants/{participantEmail}/comments/ (Sub-collection)
â””â”€â”€ {commentId}/
    â”œâ”€â”€ userEmail: string
    â”œâ”€â”€ userName: string
    â”œâ”€â”€ content: string
    â””â”€â”€ createdAt: timestamp

---

## 8. ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»ãƒˆãƒ³ãƒãƒŠ

### 8.1 å…±æœ‰ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
å…¬é–‹ã‚µã‚¤ãƒˆã¨ç®¡ç†ç”»é¢ã§çµ±ä¸€ã•ã‚ŒãŸã€Œãƒãƒªãƒ¼ãƒ³ãƒ–ãƒ«ãƒ¼ã€ãƒ†ãƒ¼ãƒã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

| é …ç›® | ä»•æ§˜ |
|------|------|
| **ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼** | ãƒãƒªãƒ¼ãƒ³ãƒ–ãƒ«ãƒ¼ (`--primary: #3b82f6`) |
| **ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³** | `linear-gradient(135deg, #3b82f6, #8b5cf6)` |
| **ãƒ•ã‚©ãƒ³ãƒˆ** | Outfit (è¦‹å‡ºã—), Inter (æœ¬æ–‡) |
| **ã‚¹ã‚¿ã‚¤ãƒ«** | ã‚°ãƒ©ã‚¹ãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ , ã‚½ãƒ•ãƒˆã‚·ãƒ£ãƒ‰ã‚¦, è§’ä¸¸ (1rem - 1.5rem) |

### 8.2 ç®¡ç†ç”»é¢ã®ç‰¹è¨˜äº‹é …
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼**: ãƒ€ãƒ¼ã‚¯ãƒã‚¤ãƒ“ãƒ¼ (`#0f172a`) èƒŒæ™¯ã«ãƒ–ãƒ©ãƒ³ãƒ‰ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã€‚
- **å…¬é–‹ã‚µã‚¤ãƒˆã¸ã®ãƒªãƒ³ã‚¯**: å¸¸æ™‚è¡¨ç¤ºã€åˆ¥ã‚¿ãƒ– (`target="_blank"`) ã§ã‚ªãƒ¼ãƒ—ãƒ³ã€‚

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|---------|------|-----------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | Vanilla JavaScript (ES Modules) | ES2020+ |
| **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°** | CSS3 (ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£) | - |
| **ãƒ•ã‚©ãƒ³ãƒˆ** | Google Fonts (Outfit, Inter) | - |
| **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«** | Vite | ^6.0.0 |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | Firebase Cloud Functions (Node.js) | Node 22 |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | Cloud Firestore | - |
| **èªè¨¼** | Firebase Authentication | - |
| **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°** | Firebase Hosting | - |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** | Firestore Security Rules | - |

---

## 9. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### 9.1 Firestore ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    function isAdmin() {
      return request.auth != null &&
             exists(/databases/$(database)/documents/config/admin) &&
             (request.auth.token.email in get(/databases/$(database)/documents/config/admin).data.authorizedEmails);
    }

    // å…¨ã¦ã®è¨­å®šï¼ˆç®¡ç†è€…ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€OGPã€ãƒ‡ãƒ¼ã‚¿ï¼‰ï¼šèª­ã¿å–ã‚Šã¯ãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯ç”¨ã«ç¶­æŒã€æ›¸ãè¾¼ã¿ã¯ç®¡ç†è€…ã®ã¿
    match /config/{document} {
      allow read: if true;
      allow write: if isAdmin();
    }

    // ãã®ä»–ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    match /{document=**} {
      allow read: if true;
      allow write: if isAdmin();
    }

    // å‚åŠ è€…ç™»éŒ²ãƒ»ç®¡ç†
    match /participants/{email} {
      // é–²è¦§ï¼šãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ãªã‚‰èª°ã§ã‚‚å¯èƒ½
      allow read: if request.auth != null;
      
      // ä½œæˆï¼šãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã€ã‹ã¤è‡ªèº«ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã®ç™»éŒ²ã€ã‹ã¤å¿…é ˆé …ç›®ã‚ã‚Šï¼ˆrole ã¯ä»»æ„ï¼‰
      allow create: if request.auth != null && 
                       request.auth.token.email == email &&
                       request.resource.data.keys().hasAll(['lastName', 'firstName', 'email', 'company', 'organization', 'dataConsent', 'createdAt']) &&
                       request.resource.data.email == email;
      
      // æ›´æ–°ï¼šè‡ªèº«ã®ãƒ‡ãƒ¼ã‚¿ã€ã¾ãŸã¯ã€Œã„ã„ã­ã€ã®æ›´æ–°ã®ã¿å¯èƒ½
      allow update: if request.auth != null && 
                       (request.auth.token.email == email || 
                        request.resource.data.diff(resource.data).affectedKeys().hasOnly(['likes', 'likeCount', 'commentCount']));
      
      // å‰Šé™¤ï¼šè‡ªèº«ã¾ãŸã¯ç®¡ç†è€…ã®ã¿
      allow delete: if request.auth != null && 
                       (request.auth.token.email == email || isAdmin());

      // ã‚³ãƒ¡ãƒ³ãƒˆã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
      match /comments/{commentId} {
        allow read: if request.auth != null;
        allow create: if request.auth != null && 
                         request.resource.data.userEmail == request.auth.token.email;
        allow update, delete: if request.auth != null && 
                                 (resource.data.userEmail == request.auth.token.email || isAdmin());
      }
    }
  }
}
```

### 9.2 æ©Ÿå¯†æƒ…å ±ç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | .gitignore |
|---------|------|------------|
| `firebase.js` | Firebase API ã‚­ãƒ¼ | âœ… |
| `serviceAccountKey.json` | ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç§˜å¯†éµ | âœ… |
| `*-firebase-adminsdk-*.json` | Admin SDK ã‚­ãƒ¼ | âœ… |

---

## 10. é–‹ç™ºãƒ»é‹ç”¨ã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `npm run dev` | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (Vite) |
| `npm run build` | æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰ |
| `npm run setup` | å¯¾è©±å¼ç®¡ç†è€…ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `firebase deploy` | Firebase ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `firebase deploy --only hosting` | Hosting ã®ã¿ãƒ‡ãƒ—ãƒ­ã‚¤ |
| `firebase deploy --only functions` | Functions ã®ã¿ãƒ‡ãƒ—ãƒ­ã‚¤ |

---

## 11. éæ©Ÿèƒ½è¦ä»¶

| é …ç›® | è¦ä»¶ |
|------|------|
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | åˆå›è¡¨ç¤º 3 ç§’ä»¥å†…ï¼ˆSSR + CDN ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ |
| **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£** | Firebase ã®è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«ä¾å­˜ |
| **å¯ç”¨æ€§** | Firebase SLA (99.95%) ã«æº–æ‹  |
| **ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ** | ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å®Œå…¨å¯¾å¿œ |
| **ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ** | Chrome, Safari, Firefox, Edge æœ€æ–°ç‰ˆ |

---

## 12. ä¼æ¥­å‘ã‘ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ã‚ªãƒ—ã‚·ãƒ§ãƒ³

ä¼æ¥­ãŒè‡ªç¤¾ç’°å¢ƒã§å±•é–‹ã™ã‚‹éš›ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™æ–¹æ³•ã§ã™ã€‚

### 12.1 ç¾åœ¨ã®å¯¾å¿œçŠ¶æ³

| æ©Ÿèƒ½ | çŠ¶æ…‹ | èª¬æ˜ |
|------|------|------|
| **ç®¡ç†ç”»é¢ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™** | âœ… å¯¾å¿œæ¸ˆã¿ | `authorizedEmails` ã«ã‚ˆã‚‹è¨±å¯åˆ¶ |
| **ãƒ‡ãƒ¼ã‚¿æ›¸ãè¾¼ã¿åˆ¶é™** | âœ… å¯¾å¿œæ¸ˆã¿ | Firestore Security Rules |
| **å…¬é–‹ã‚µã‚¤ãƒˆã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™** | âŒ æœªå¯¾å¿œ | èª°ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ |

### 12.2 å…¬é–‹ã‚µã‚¤ãƒˆã‚’ç¤¾å†…é™å®šã«ã™ã‚‹æ–¹æ³•

| æ–¹æ³• | é›£æ˜“åº¦ | èª¬æ˜ |
|------|--------|------|
| **Identity-Aware Proxy (IAP)** | â­ æ¨å¥¨ | Cloud Functions ã®å‰ã« IAP ã‚’é…ç½®ã—ã€ä¼æ¥­ã® Google Workspace ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã¿ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ |
| **Cloud Armor + IP åˆ¶é™** | ä¸­ | Cloud Load Balancer + Cloud Armor ã§ç‰¹å®š IP ã‹ã‚‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ |
| **VPC Service Controls** | é«˜ | VPC å†…ã‹ã‚‰ã®ã¿ Firestore ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«è¨­å®š |

### 12.3 IAP å°å…¥æ™‚ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IAP ã«ã‚ˆã‚‹ç¤¾å†…é™å®šæ§‹æˆ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ç¤¾å†…ãƒ¦ãƒ¼ã‚¶ãƒ¼ â”‚â”€â”€â”€â–¶â”‚   IAP   â”‚â”€â”€â”€â–¶â”‚ Cloud Functions (SSR)â”‚ â”‚
â”‚  â”‚ @company.comâ”‚    â”‚ èªè¨¼    â”‚    â”‚                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                    â”‚             â”‚
â”‚                           â”‚                    â–¼             â”‚
â”‚                      èªè¨¼å¤±æ•—            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                           â”‚              â”‚ Firestoreâ”‚        â”‚
â”‚                           â–¼              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                      ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦                            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.4 Cloud Run ã¸ã®ç§»è¡Œæ¤œè¨

ã‚ˆã‚Šé«˜åº¦ãªä¼æ¥­è¦ä»¶ï¼ˆSSO çµ±åˆã€ã‚ªãƒ³ãƒ—ãƒ¬ DB é€£æºãªã©ï¼‰ãŒå¿…è¦ãªå ´åˆã¯ Cloud Run ã¸ã®ç§»è¡Œã‚‚é¸æŠè‚¢ã§ã™ã€‚

| é …ç›® | Firebase | Cloud Run |
|------|----------|-----------|
| **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—** | ç°¡å˜ | ã‚„ã‚„è¤‡é›‘ |
| **VPC çµ±åˆ** | åˆ¶é™ã‚ã‚Š | å®Œå…¨å¯¾å¿œ |
| **IAM çµ±åˆ** | åŸºæœ¬ | å®Œå…¨å¯¾å¿œ |
| **ã‚³ã‚¹ãƒˆ** | ç„¡æ–™æ å……å®Ÿ | ä½¿ç”¨é‡èª²é‡‘ |
| **IT éçµŒé¨“è€…ã®å±•é–‹** | â­ å®¹æ˜“ | ã‚„ã‚„å›°é›£ |

---

## 13. ä»Šå¾Œã®æ‹¡å¼µå€™è£œ

- [x] å‚åŠ è€…ç™»éŒ²ãƒ»ç®¡ç†æ©Ÿèƒ½ (ç·¨é›†ãƒ»å‰Šé™¤ãƒ»CSV)
- [x] ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã® Cloud Storage é€£æº
- [ ] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ï¼ˆå…¬é–‹å‰ç¢ºèªï¼‰
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
- [ ] **IAP ã«ã‚ˆã‚‹ç¤¾å†…é™å®šå…¬é–‹å¯¾å¿œ**
- [ ] **Cloud Run ã¸ã®ç§»è¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³**
